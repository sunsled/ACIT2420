#!/bin/bash
#
#-- Outputs memory usage of process

COMMAND=$1
PROC=$(ps -o pid,%mem,command | grep $COMMAND | awk '/[0-9]*/{print $1 ":" $3}')

for i in $PROC
do
	PID=$(echo $i | cut -d: -f1)
	COM=$(echo $i | cut -d: -f2)
	MEM=$(pmap $PID | tail -n 1)

	echo $COM $MEM
done


